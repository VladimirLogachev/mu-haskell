<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Mu.Schema.Optics</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Mu.Schema.Optics.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">mu-optics-0.3.0.0: Optics for @mu-schema@ terms</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Mu.Schema.Optics</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Build a term</a></li><li><a href="#g:2">Re-exported for convenience.</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides instances of <code>LabelOptic</code> to be
used in conjunction with the <code>optics</code> package.
In particular, there are two kind of optics to access
different parts of a <code>Term</code>:</p><ul><li>With <code>#field</code> you obtain the lens (that is, a getter
  and a setter) for the corresponding field in a record.</li><li>With <code>#choice</code> you obtain the prism for the
  desired choice in an enumeration. You can use then
  <code>review</code> to construct a term with the value.</li></ul><p>In addition, we provide a utility function <code><a href="Mu-Schema-Optics.html#v:record" title="Mu.Schema.Optics">record</a></code> to
build a record out of the inner values. We intend the
interface to be very simple, so this function is overloaded
to take tuples of different size, with as many components
as values in the schema type.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:record">record</a> :: BuildRecord sch args r =&gt; r -&gt; Term sch (DRecord name args)</li><li class="src short"><a href="#v:record1">record1</a> :: TypeLabel sch t1 r1 =&gt; r1 -&gt; Term sch (DRecord name '[FieldDef x1 t1])</li><li class="src short"><a href="#v:enum">enum</a> :: <span class="keyword">forall</span> (choiceName :: <a href="http://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) choices sch name. EnumLabel choices choiceName =&gt; Term sch (DEnum name choices)</li><li class="src short"><a href="#v:_U0">_U0</a> :: <span class="keyword">forall</span> (sch :: Schema') x xs r. TypeLabel sch x r =&gt; Prism' (NS (FieldValue sch) (x ': xs)) r</li><li class="src short"><a href="#v:_Next">_Next</a> :: <span class="keyword">forall</span> (sch :: Schema') x xs. Prism' (NS (FieldValue sch) (x ': xs)) (NS (FieldValue sch) xs)</li><li class="src short"><a href="#v:_U1">_U1</a> :: <span class="keyword">forall</span> (sch :: Schema') a b xs r. TypeLabel sch b r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': xs))) r</li><li class="src short"><a href="#v:_U2">_U2</a> :: <span class="keyword">forall</span> (sch :: Schema') a b c xs r. TypeLabel sch c r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': (c ': xs)))) r</li><li class="src short"><a href="#v:_U3">_U3</a> :: <span class="keyword">forall</span> (sch :: Schema') a b c d xs r. TypeLabel sch d r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': (c ': (d ': xs))))) r</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Build a term</h1></a><div class="top"><p class="src"><a id="v:record" class="def">record</a> :: BuildRecord sch args r =&gt; r -&gt; Term sch (DRecord name args) <a href="src/Mu.Schema.Optics.html#record" class="link">Source</a> <a href="#v:record" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:record1" class="def">record1</a> :: TypeLabel sch t1 r1 =&gt; r1 -&gt; Term sch (DRecord name '[FieldDef x1 t1]) <a href="src/Mu.Schema.Optics.html#record1" class="link">Source</a> <a href="#v:record1" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:enum" class="def">enum</a> :: <span class="keyword">forall</span> (choiceName :: <a href="http://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) choices sch name. EnumLabel choices choiceName =&gt; Term sch (DEnum name choices) <a href="src/Mu.Schema.Optics.html#enum" class="link">Source</a> <a href="#v:enum" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_U0" class="def">_U0</a> :: <span class="keyword">forall</span> (sch :: Schema') x xs r. TypeLabel sch x r =&gt; Prism' (NS (FieldValue sch) (x ': xs)) r <a href="src/Mu.Schema.Optics.html#_U0" class="link">Source</a> <a href="#v:_U0" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_Next" class="def">_Next</a> :: <span class="keyword">forall</span> (sch :: Schema') x xs. Prism' (NS (FieldValue sch) (x ': xs)) (NS (FieldValue sch) xs) <a href="src/Mu.Schema.Optics.html#_Next" class="link">Source</a> <a href="#v:_Next" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_U1" class="def">_U1</a> :: <span class="keyword">forall</span> (sch :: Schema') a b xs r. TypeLabel sch b r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': xs))) r <a href="src/Mu.Schema.Optics.html#_U1" class="link">Source</a> <a href="#v:_U1" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_U2" class="def">_U2</a> :: <span class="keyword">forall</span> (sch :: Schema') a b c xs r. TypeLabel sch c r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': (c ': xs)))) r <a href="src/Mu.Schema.Optics.html#_U2" class="link">Source</a> <a href="#v:_U2" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_U3" class="def">_U3</a> :: <span class="keyword">forall</span> (sch :: Schema') a b c d xs r. TypeLabel sch d r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': (c ': (d ': xs))))) r <a href="src/Mu.Schema.Optics.html#_U3" class="link">Source</a> <a href="#v:_U3" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Re-exported for convenience.</h1></a><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:LabelOptic:LabelOptic:1"></span> (EnumLabel choices choiceName, r ~ ()) =&gt; LabelOptic choiceName A_Prism (Term sch (DEnum name choices :: TypeDefB <a href="http://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> typeName <a href="http://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>)) (Term sch (DEnum name choices :: TypeDefB <a href="http://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> typeName <a href="http://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>)) r r</span> <a href="src/Mu.Schema.Optics.html#line-144" class="link">Source</a> <a href="#v:-36-fLabelOpticchoiceNameA_PrismTermTermrr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:LabelOptic:LabelOptic:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:labelOptic">labelOptic</a> :: Optic A_Prism NoIx (Term sch (DEnum name choices)) (Term sch (DEnum name choices)) r r</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:LabelOptic:LabelOptic:2"></span> FieldLabel sch args fieldName r =&gt; LabelOptic fieldName A_Lens (Term sch (DRecord name args)) (Term sch (DRecord name args)) r r</span> <a href="src/Mu.Schema.Optics.html#line-49" class="link">Source</a> <a href="#v:-36-fLabelOpticfieldNameA_LensTermTermrr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:LabelOptic:LabelOptic:2"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:labelOptic">labelOptic</a> :: Optic A_Lens NoIx (Term sch (DRecord name args)) (Term sch (DRecord name args)) r r</p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>