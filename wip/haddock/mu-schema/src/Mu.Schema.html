<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# language DataKinds #-}</span><span>
</span><a name="line-2"></a><span class="hs-comment">{-|
Description : Schemas for Mu microservices

Definition and interpretation of schemas in
the vein of Avro, Protocol Buffers, or JSON Schema.

Each 'Schema' is made out of types (which in turn
be records or enumerations). A value which obbeys
such a schema is called a 'Term'. Conversion between
Haskell types and schema types is mediated by the
type classes 'ToSchema' and 'FromSchema'.
-}</span><span>
</span><a name="line-14"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Mu.Schema</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-15"></a><span>  </span><span class="hs-comment">-- * Schema definition</span><span>
</span><a name="line-16"></a><span>  </span><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#Schema%27"><span class="hs-identifier hs-type">Schema'</span></a><span>
</span><a name="line-17"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#KnownName"><span class="hs-identifier hs-type">KnownName</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-18"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#TypeDefB"><span class="hs-identifier hs-type">TypeDefB</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-19"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-20"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#FieldDefB"><span class="hs-identifier hs-type">FieldDefB</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-21"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#FieldTypeB"><span class="hs-identifier hs-type">FieldTypeB</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-22"></a><span>  </span><span class="hs-comment">-- ** Lookup type in schema</span><span>
</span><a name="line-23"></a><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a><span class="hs-special">)</span><span>
</span><a name="line-24"></a><span>  </span><span class="hs-comment">-- * Interpretation of schemas</span><span>
</span><a name="line-25"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-26"></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">NS</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">NP</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-27"></a><span>  </span><span class="hs-comment">-- * Conversion from types to schemas</span><span>
</span><a name="line-28"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-29"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier hs-var">fromSchema'</span></a><span>
</span><a name="line-30"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier hs-var">toSchema'</span></a><span>
</span><a name="line-31"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-32"></a><span>  </span><span class="hs-comment">-- ** Mappings between fields</span><span>
</span><a name="line-33"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#Mapping"><span class="hs-identifier hs-type">Mapping</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a><span>
</span><a name="line-34"></a><span>  </span><span class="hs-comment">-- ** Field annotations</span><span>
</span><a name="line-35"></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Annotations.html#AnnotatedSchema"><span class="hs-identifier hs-type">AnnotatedSchema</span></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Annotations.html#AnnotationDomain"><span class="hs-identifier hs-type">AnnotationDomain</span></a><span class="hs-special">,</span><span> </span><a href="Mu.Schema.Annotations.html#Annotation"><span class="hs-identifier hs-type">Annotation</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-36"></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-37"></a><span>
</span><a name="line-38"></a><span class="hs-keyword">import</span><span>           </span><a href="Mu.Schema.Annotations.html"><span class="hs-identifier">Mu.Schema.Annotations</span></a><span>
</span><a name="line-39"></a><span class="hs-keyword">import</span><span>           </span><a href="Mu.Schema.Class.html"><span class="hs-identifier">Mu.Schema.Class</span></a><span>
</span><a name="line-40"></a><span class="hs-keyword">import</span><span>           </span><a href="Mu.Schema.Definition.html"><span class="hs-identifier">Mu.Schema.Definition</span></a><span>
</span><a name="line-41"></a><span class="hs-keyword">import</span><span>           </span><a href="Mu.Schema.Interpretation.html"><span class="hs-identifier">Mu.Schema.Interpretation</span></a><span>
</span><a name="line-42"></a></pre></body></html>